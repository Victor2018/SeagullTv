package com.victor.model.impl;import android.text.TextUtils;import com.android.volley.Response;import com.android.volley.VolleyError;import com.victor.model.GankModel;import com.victor.model.data.GankData;import com.victor.module.VolleyRequest;import com.victor.presenter.OnGankListener;import com.victor.util.Constant;/** * Created by victor on 2017/5/9. */public class GankModelImpl implements GankModel{    @Override    public void loadGank(int currentPage, final OnGankListener listener) {        String url = Constant.GANK_BASE_URL + String.format(Constant.GANK_URL,Constant.PAGE_SIZE,currentPage);;        VolleyRequest.newInstance().newFastJsonRequest(url, GankData.class, new Response.Listener<GankData>() {            @Override            public void onResponse(GankData response) {                if (response != null) {                    listener.onSuccess(response);                } else {                    listener.onError("no data response!");                }            }        }, new Response.ErrorListener() {            @Override            public void onErrorResponse(VolleyError error) {                String msg = error.getMessage();                if (TextUtils.isEmpty(msg)) {                    msg = "no data response!";                }                listener.onError(msg);            }        });    }}