package com.victor.model.impl;import android.text.TextUtils;import android.util.Log;import com.android.volley.Response;import com.android.volley.VolleyError;import com.victor.model.ChannelModel;import com.victor.model.data.ChannelData;import com.victor.model.data.ProgramData;import com.victor.module.VolleyRequest;import com.victor.presenter.OnChannelListener;import com.victor.util.Constant;/** * Created by victor on 2017/4/26. */public class ChannelModelImpl implements ChannelModel {    private String TAG = "ChannelModelImpl";    @Override    public void loadChannels(final OnChannelListener listener) {        String url = Constant.CHANNEL_URL_NEW;        VolleyRequest.newInstance().newFastJsonRequest(url, ChannelData.class, new Response.Listener<ChannelData>() {            @Override            public void onResponse(ChannelData channelData) {                if (channelData != null) {                    Log.e(TAG,"newFastJsonRequest-loadChannels-channelData.getCount() = " + channelData.getCount());                    listener.onSuccess(channelData);                } else {                    listener.onError("no data response!");                }            }        }, new Response.ErrorListener() {            @Override            public void onErrorResponse(VolleyError error) {                String msg = error.getMessage();                if (TextUtils.isEmpty(msg)) {                    msg = "no data response!";                }                listener.onError(msg);            }        });    }}