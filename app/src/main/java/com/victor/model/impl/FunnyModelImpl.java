package com.victor.model.impl;import android.text.TextUtils;import android.util.Log;import com.android.volley.Response;import com.android.volley.VolleyError;import com.victor.model.FunnyModel;import com.victor.model.data.FunnyData;import com.victor.module.VolleyRequest;import com.victor.presenter.OnFunnyListener;import com.victor.util.Constant;/** * Created by victor on 2017/4/19. */public class FunnyModelImpl implements FunnyModel{    private String TAG = "FunnyModelImpl";    @Override    public void loadFunny(String url, int currentPage, String time, final OnFunnyListener listener) {        String requestUrl = String.format(url,currentPage,Constant.Action.FUNNY,Constant.APP_ID,Constant.APP_SECRET,time);        VolleyRequest.newInstance().newFastJsonRequest(requestUrl, FunnyData.class, new Response.Listener<FunnyData>() {                    @Override                    public void onResponse(FunnyData funnyData) {                        if (funnyData != null) {                            Log.e(TAG,"newFastJsonRequest-funnyData-getShowapi_res_body = " + funnyData.getShowapi_res_body());                            listener.onSuccess(funnyData);                        } else {                            listener.onError("no data response!");                        }                    }                }, new Response.ErrorListener() {                    @Override                    public void onErrorResponse(VolleyError error) {                        String msg = error.getMessage();                        if (TextUtils.isEmpty(msg)) {                            msg = "no data response!";                        }                        listener.onError(msg);                    }                });    }}