package com.victor.model.impl;import android.text.TextUtils;import android.util.Log;import com.android.volley.Response;import com.android.volley.VolleyError;import com.victor.model.MeiPaiModel;import com.victor.model.data.MeiPaiData;import com.victor.module.VolleyRequest;import com.victor.presenter.OnMeiPaiListener;import com.victor.util.Constant;import java.util.List;/** * Created by victor on 2017/4/27. */public class MeiPaiModelImpl implements MeiPaiModel{    private String TAG = "MeiPaiModelImpl";    @Override    public void loadMeiPai(String url,int currentPage,final OnMeiPaiListener listener) {        String meiPaiUrl = String.format(url, Constant.PAGE_SIZE,currentPage);        VolleyRequest.newInstance().newFastJsonArrayRequest(meiPaiUrl, MeiPaiData.class, new Response.Listener<List<MeiPaiData>>() {            @Override            public void onResponse(List<MeiPaiData> response) {                if (response != null) {                    Log.e(TAG,"newFastJsonArrayRequest-response-response.size() = " + response.size());                    listener.onSuccess(response);                } else {                    listener.onError("no data response!");                }            }        }, new Response.ErrorListener() {            @Override            public void onErrorResponse(VolleyError error) {                String msg = error.getMessage();                if (TextUtils.isEmpty(msg)) {                    msg = "no data response!";                }                listener.onError(msg);            }        });    }}